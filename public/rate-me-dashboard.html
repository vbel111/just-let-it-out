<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Photos - Just Let It Out</title>
    <link rel="stylesheet" href="css/rate-me-dashboard-styles.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <meta name="description" content="Manage your Rate Me photos and view rating statistics">
</head>
<body>
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <button id="backBtn" class="back-btn" aria-label="Go back">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1>My Photos</h1>
            <button id="settingsBtn" class="settings-btn" aria-label="Settings">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-main">
        <!-- Loading State -->
        <div id="loadingState" class="loading-state">
            <div class="loading-spinner"></div>
            <p>Loading your photos...</p>
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <div class="empty-icon">üì∏</div>
            <h2>No photos yet</h2>
            <p>Upload your first photo to start receiving ratings from friends!</p>
            <button id="uploadFirstBtn" class="cta-btn">Upload Photo</button>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboardContent" class="dashboard-content" style="display: none;">
            <!-- Stats Overview -->
            <section class="stats-overview">
                <h2>Overview</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì∏</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalPhotos">0</div>
                            <div class="stat-label">Photos</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalRatings">0</div>
                            <div class="stat-label">Ratings</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üëÄ</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalViews">0</div>
                            <div class="stat-label">Views</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalComments">0</div>
                            <div class="stat-label">Comments</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Photos Grid -->
            <section class="photos-section">
                <div class="section-header">
                    <h2>Your Photos</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">All</button>
                        <button class="filter-tab" data-filter="active">Active</button>
                        <button class="filter-tab" data-filter="expired">Expired</button>
                    </div>
                </div>
                
                <div id="photosGrid" class="photos-grid">
                    <!-- Photos will be dynamically loaded here -->
                </div>
                
                <div id="loadMoreBtn" class="load-more" style="display: none;">
                    <button class="load-more-btn">Load More</button>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="quick-actions">
                <button id="uploadNewBtn" class="action-btn primary">
                    <span class="btn-icon">üì∏</span>
                    Upload New Photo
                </button>
                <button id="viewAnalyticsBtn" class="action-btn secondary">
                    <span class="btn-icon">üìä</span>
                    View Analytics
                </button>
            </section>
        </div>
    </main>

    <!-- Photo Detail Modal -->
    <div id="photoModal" class="modal">
        <div class="modal-content photo-modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Photo Details</h3>
                <button id="closeModal" class="close-btn">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="photo-preview">
                    <img id="modalPhoto" src="" alt="Photo">
                    <div class="photo-status" id="modalStatus">
                        <span class="status-badge active">Active</span>
                        <span class="time-remaining" id="modalTimeRemaining">2h 30m remaining</span>
                    </div>
                </div>
                
                <div class="photo-stats">
                    <div class="stat-row">
                        <span class="stat-label">Average Rating:</span>
                        <div class="rating-display">
                            <span id="modalAvgRating">4.2</span>
                            <div id="modalHearts" class="hearts">üíôüíöüß°üíúü§ç</div>
                        </div>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Total Ratings:</span>
                        <span id="modalTotalRatings">24</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Views:</span>
                        <span id="modalViews">156</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Comments:</span>
                        <span id="modalComments">8</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Share Link:</span>
                        <div class="share-link-container">
                            <input type="text" id="modalShareLink" readonly>
                            <button id="copyLinkBtn" class="copy-btn">Copy</button>
                        </div>
                    </div>
                </div>
                
                <div class="rating-breakdown">
                    <h4>Rating Breakdown</h4>
                    <div id="ratingChart" class="rating-chart">
                        <!-- Rating bars will be generated here -->
                    </div>
                </div>
                
                <div class="comments-section" id="commentsSection">
                    <h4>Comments <span id="commentsCount" class="comments-count">(0)</span></h4>
                    <div id="commentsList" class="comments-list">
                        <!-- Comments will be loaded here -->
                        <div class="comments-loading" id="commentsLoading" style="display: none;">
                            <div class="loading-spinner small"></div>
                            <span>Loading comments...</span>
                        </div>
                        <div class="no-comments" id="noComments" style="display: none;">
                            <div class="no-comments-icon">üí¨</div>
                            <p>No comments yet</p>
                            <p class="subtitle">Be the first to share this photo and get some feedback!</p>
                        </div>
                    </div>
                    <div class="comments-actions">
                        <button id="refreshCommentsBtn" class="btn-text">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="shareBtn" class="btn secondary">
                    <span class="btn-icon">üîó</span>
                    Share
                </button>
                <button id="extendBtn" class="btn secondary" style="display: none;">
                    <span class="btn-icon">‚è∞</span>
                    Extend Time
                </button>
                <button id="deleteBtn" class="btn danger">
                    <span class="btn-icon">üóëÔ∏è</span>
                    Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content delete-modal-content">
            <div class="modal-header">
                <h3>Delete Photo</h3>
                <button id="closeDeleteModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this photo? This action cannot be undone.</p>
                <p><strong>All ratings and comments will be permanently lost.</strong></p>
            </div>
            <div class="modal-footer">
                <button id="cancelDelete" class="btn secondary">Cancel</button>
                <button id="confirmDelete" class="btn danger">Delete Forever</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content settings-modal-content">
            <div class="modal-header">
                <h3>Dashboard Settings</h3>
                <button id="closeSettings" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="emailNotifications">Email Notifications</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="emailNotifications">
                        <span class="slider"></span>
                    </div>
                    <p class="setting-description">Get notified when your photos receive new ratings</p>
                </div>
                
                <div class="setting-group">
                    <label for="autoDelete">Auto-delete expired photos</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="autoDelete">
                        <span class="slider"></span>
                    </div>
                    <p class="setting-description">Automatically delete photos 24 hours after they expire</p>
                </div>
                
                <div class="setting-group">
                    <label for="defaultDuration">Default photo duration</label>
                    <select id="defaultDuration">
                        <option value="1">1 hour</option>
                        <option value="3">3 hours</option>
                        <option value="6">6 hours</option>
                        <option value="12">12 hours</option>
                        <option value="24">24 hours</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <button id="clearDataBtn" class="btn danger full-width">
                        Clear All Data
                    </button>
                    <p class="setting-description">This will delete all your photos, ratings, and data permanently</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Processing...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script type="module" src="js/rate-me-dashboard.js"></script>
</body>
</html>
